zuul

1.传统路由方式
pom.xml配置加入:
<dependencies>
	<dependency>
		<groupId>org.springframework.cloud</groupId>
		<artifactId>spring-cloud-starter-zuul</artifactId>
	</dependency>
</dependencies>

配置文件application.properties:
spring.application.name=api-gateway
server.port=5555
zuul.routes.api-a-url.path=/api-a-url/**
zuul.routes.api-a-url.url=http://localhost:8081/
zuul.routes.api-a-url.path=/api-b-url/**
zuul.routes.api-a-url.url=http://localhost:9000/

测试地址:
http://localhost:5555/api-a-url/hello
http://localhost:5555/api-b-url/user_get

2.面向服务的路由
pom.xml配置加入:
<dependency>
	<groupId>org.springframework.cloud</groupId>
	<artifactId>spring-cloud-starter-eureka</artifactId>
</dependency>

配置文件application.properties:
spring.application.name=api-gateway
server.port=5555

zuul.routes.api-a.path=/api-a/**
zuul.routes.api-a.serviceId=hello-service
zuul.routes.api-b.path=/api-b/**
zuul.routes.api-b.serviceId=ribbon-consumer

eureka.client.serviceUrl.defaultZone=http://localhost:1111/eureka/


测试地址:
http://localhost:5555/api-a/hello
http://localhost:5555/api-b/user_get


过滤器

http://127.0.0.1:5555/api-a/hello
http://127.0.0.1:5555/api-a/hello?accessToken=token

http://localhost:5555/api-b/user_get
http://localhost:5555/api-b/user_get?accessToken=token



point
动态加载 api-gateway-dynamic-route
动态过滤器 api-gateway-dynamic-filter